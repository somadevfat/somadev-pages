# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (Project Design Document)

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 1.0
**æœ€çµ‚æ›´æ–°æ—¥:** `[è‡ªå‹•æŒ¿å…¥: YYYY-MM-DD]`

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ (Project Overview)

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€æ—¢å­˜ã®Next.jsè£½é™çš„ã‚µã‚¤ãƒˆã«ã€Spring Bootè£½ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã‚µãƒ¼ãƒãƒ¼ã‚’è¿½åŠ ã—ã€ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹CMSã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸ç§»è¡Œã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ä¾¡å€¤ã‚’æä¾›ã™ã‚‹:
- **GUIã«ã‚ˆã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†:** ç®¡ç†è€…ãŒãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ç›´æ„Ÿçš„ã«è¨˜äº‹ã‚’ä½œæˆãƒ»ç·¨é›†ã§ãã‚‹æ©Ÿèƒ½ã€‚
- **ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–:** ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯å¾“æ¥é€šã‚Šãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«ä¿å­˜ã•ã‚Œã€Gitã«ã‚ˆã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’å¯èƒ½ã«ã™ã‚‹ã€‚
- **å°†æ¥çš„ãªæ‹¡å¼µæ€§:** ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã‚¯ã‚¤ã‚ºã‚¢ãƒ—ãƒªç­‰ï¼‰ã«ã‚‚è»¢ç”¨å¯èƒ½ãªã€å†åˆ©ç”¨æ€§ã®é«˜ã„ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚
- **çµ±ä¸€ã•ã‚ŒãŸé–‹ç™ºç’°å¢ƒ:** Dockerã¨VSCode Dev Containerã‚’ç”¨ã„ã¦ã€èª°ã§ã‚‚1ã‚³ãƒãƒ³ãƒ‰ã§é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã‚‹çŠ¶æ…‹ã‚’ç›®æŒ‡ã™ã€‚

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (Architecture)

### 2.1. å…¨ä½“åƒ

ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹CMSã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã™ã‚‹ã€‚

```mermaid
graph TD
    subgraph "ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰"
        User[ğŸ‘¤ èª­è€…]
        Admin[ğŸ‘¨â€ğŸ’» ç®¡ç†è€…]
    end

    subgraph "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Next.js)"
        direction LR
        WebApp[ãƒ–ãƒ­ã‚°ãƒ»ã‚µã‚¤ãƒˆè¡¨ç¤º]
        AdminUI[è¨˜äº‹ç®¡ç†GUI]
    end
    
    subgraph "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Spring Boot API)"
        direction LR
        Controller[API Controller]
        Service[Content Service]
        Storage[PostgreSQL Database]
    end

    User --> WebApp
    WebApp -->|"ãƒ‡ãƒ¼ã‚¿å–å¾— (GET)"| Controller
    
    Admin --> AdminUI
    AdminUI -->|"è¨˜äº‹ã®ä½œæˆãƒ»æ›´æ–° (POST/PUT)"| Controller

    Controller --> Service
    Service --> Storage
```

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰:** Next.jsã€‚Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’æƒ³å®šã€‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤ºã¨ç®¡ç†è€…å‘ã‘UIã‚’æä¾›ã™ã‚‹ã€‚
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰:** Spring Bootã€‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’ç®¡ç†ã™ã‚‹REST APIã‚’æä¾›ã™ã‚‹ã€‚Dockerã‚³ãƒ³ãƒ†ãƒŠã¨ã—ã¦å®Ÿè¡Œã•ã‚Œã‚‹ã€‚

### 2.2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­è¨ˆæ€æƒ³ (Backend Design Philosophy)

- **Stateless:** ã‚µãƒ¼ãƒãƒ¼ã¯çŠ¶æ…‹ã‚’æŒãŸãªã„ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã”ã¨ã«å®Œçµã—ãŸå‡¦ç†ã‚’è¡Œã†ã€‚
- **æ±ç”¨æ€§ (Genericity):** ç‰¹å®šã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆä¾‹: `article`ï¼‰ã«ä¾å­˜ã—ãªã„è¨­è¨ˆã‚’ç›®æŒ‡ã™ã€‚ã€Œã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ã¨ã„ã†æŠ½è±¡çš„ãªæ¦‚å¿µã‚’æ‰±ã„ã€å°†æ¥çš„ã«ã¯`quiz`ã‚„`document`ãªã©ã€æ§˜ã€…ãªç¨®é¡ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åŒã˜ä»•çµ„ã¿ã§ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
- **è¨­å®šå¯èƒ½æ€§ (Configurability):** ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä¿å­˜ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ãªã©ã®ç’°å¢ƒä¾å­˜ã®è¨­å®šã¯ã€`application.properties`ã‚„ç’°å¢ƒå¤‰æ•°ã‚’é€šã˜ã¦å¤–éƒ¨ã‹ã‚‰æ³¨å…¥ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

### 2.3. Gitãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ (Git Branching Strategy)

**GitHub Flow**ã‚’åŸºæœ¬ã¨ã™ã‚‹ã€‚

- **`main`:** å¸¸ã«ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ãªå®‰å®šãƒ–ãƒ©ãƒ³ãƒã€‚
- **`feature/{ticket-id}-{description}`:** æ©Ÿèƒ½é–‹ç™ºã‚„ä¿®æ­£ã‚’è¡Œã†ãƒ–ãƒ©ãƒ³ãƒã€‚`main`ã‹ã‚‰ä½œæˆã™ã‚‹ã€‚
    - ä¾‹: `feature/BE-01-setup-springboot-project`
    - ä¾‹: `feature/FE-02-create-admin-layout`
- Pull Requestã¯ã€å¿…ãš1åä»¥ä¸Šã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çµŒã¦ã‹ã‚‰`main`ã«ãƒãƒ¼ã‚¸ã™ã‚‹ã€‚

## 3. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (Tech Stack & Libraries)

AIï¼ˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼‰ã¯ã€å®Ÿè£…å‰ã«å¿…ãšã“ã‚Œã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã€æœ€æ–°ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„ä½¿ã„æ–¹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã€‚

### 3.1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Spring Boot)
- **Java:** 17 or later
- **Spring Boot:** 3.x
- **ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª:**
    - `spring-boot-starter-web`: REST APIæ§‹ç¯‰ç”¨ ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.spring.io/spring-boot/docs/current/reference/html/web.html))
    - `spring-boot-starter-data-jpa`: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ°¸ç¶šåŒ–ç”¨ ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.jpa-and-spring-data))
    - `postgresql`: PostgreSQL JDBCãƒ‰ãƒ©ã‚¤ãƒ
    - `lombok`: ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰å‰Šæ¸› ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://projectlombok.org/features/all))
- **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«:** Maven

### 3.2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Next.js)
- **Node.js:** 18.x or later
- **Next.js:** 14.x or 15.x ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs))
- **React:** 18.x ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://react.dev/))
- **TypeScript**
- **UI:**
    - `tailwindcss`: ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://tailwindcss.com/docs/))
    - `lucide-react`: ã‚¢ã‚¤ã‚³ãƒ³ ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://lucide.dev/guide/packages/lucide-react))
- **Markdownã‚¨ãƒ‡ã‚£ã‚¿ (å€™è£œ):**
    - `react-markdown` + `remark-gfm`: è¡¨ç¤ºç”¨ ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://github.com/remarkjs/react-markdown))
    - `easymde`: ç·¨é›†ç”¨ã‚¨ãƒ‡ã‚£ã‚¿ ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://github.com/Ionaru/easy-markdown-editor))
    - `@uiw/react-md-editor`: ç·¨é›†ç”¨ã‚¨ãƒ‡ã‚£ã‚¿ ([ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://uiwjs.github.io/react-md-editor/))

## 4. é–‹ç™ºç’°å¢ƒ (Development Environment)

- **ã‚³ãƒ³ãƒ†ãƒŠæŠ€è¡“:** Docker, Docker Compose
- **é–‹ç™ºç’°å¢ƒçµ±ä¸€:** VSCode Dev Container
- **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«:**
    - `docker-compose.yml`: `frontend`ã¨`backend`ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®šç¾©ã€‚
    - `.devcontainer/devcontainer.json`: Dev Containerã®è¨­å®šã€‚
    - `backend/Dockerfile`: Spring Bootã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸å®šç¾©ã€‚
    
ã“ã‚Œã«ã‚ˆã‚Šã€ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã€VSCodeã§ã€ŒReopen in Containerã€ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã€å¿…è¦ãªãƒ„ãƒ¼ãƒ«ãŒã™ã¹ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸçŠ¶æ…‹ã§é–‹ç™ºã‚’é–‹å§‹ã§ãã‚‹ã€‚ 